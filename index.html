<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>FIFA Turniej 6 Os√≥b</title>

<style>
body {
  margin: 0;
  font-family: Arial, sans-serif;
  color: #fff;
  background:
    linear-gradient(rgba(0,0,0,.25), rgba(0,0,0,.75)),
    url("tlo.jpg") top center / contain no-repeat fixed;
}

.container {
  max-width: 900px;
  margin: auto;
  padding: 15px;
}

h1, h2 {
  text-align: center;
}

table {
  width: 100%;
  border-collapse: collapse;
  background: rgba(0,0,0,.55);
  margin-bottom: 25px;
}

th, td {
  border: 1px solid #777;
  padding: 6px;
  text-align: center;
  font-size: 14px;
}

input {
  width: 40px;
  text-align: center;
}

.match {
  display: flex;
  justify-content: space-between;
  align-items: center;
  background: rgba(0,0,0,.55);
  padding: 6px;
  margin-bottom: 6px;
}

.match span {
  width: 35%;
  text-align: center;
}

button {
  display: block;
  margin: 15px auto;
  padding: 10px 20px;
  font-size: 16px;
  font-weight: bold;
  cursor: pointer;
}

.bracket {
  display: flex;
  justify-content: center;
  gap: 25px;
  margin-top: 20px;
}

.round {
  display: flex;
  flex-direction: column;
  gap: 20px;
}

.player {
  border: 2px solid #aaa;
  padding: 8px;
  text-align: center;
  cursor: pointer;
}

.player:hover {
  background: #00ff99;
  color: #000;
  font-weight: bold;
}

.winner {
  background: #00ff99;
  color: #000;
  font-weight: bold;
}
</style>
</head>

<body>
<div class="container">

<h1>üèÜ TURNIEJ FIFA ‚Äì 6 OS√ìB</h1>

<h2>Faza ligowa</h2>

<table>
<thead>
<tr>
<th>Zawodnik</th><th>M</th><th>W</th><th>R</th><th>P</th><th>BR</th><th>PKT</th>
</tr>
</thead>
<tbody id="table"></tbody>
</table>

<h2>Mecze</h2>
<div id="matches"></div>

<button onclick="generateBracket()">üé≤ LOSUJ DRABINKƒò TOP 4</button>

<h2>Play-offy (TOP 4)</h2>
<div class="bracket">

  <div class="round">
    <div class="player" id="sf1a" onclick="advance(this,'f1')"></div>
    <div class="player" id="sf1b" onclick="advance(this,'f1')"></div>
  </div>

  <div class="round">
    <div class="player" id="f1" onclick="winner(this)"></div>
  </div>

</div>

</div>

<script>
const players=["Brajan","Maks","Kamil","Bartek M.","Bartek B.","Igor"];

const matches=[
["Brajan","Maks"],["Kamil","Bartek M."],["Bartek B.","Igor"],
["Brajan","Kamil"],["Maks","Bartek B."],["Bartek M.","Igor"],
["Brajan","Bartek M."],["Maks","Igor"],["Kamil","Bartek B."],
["Brajan","Bartek B."],["Maks","Bartek M."],["Kamil","Igor"],
["Brajan","Igor"],["Maks","Kamil"],["Bartek M.","Bartek B."]
];

const stats={};
players.forEach(p=>stats[p]={m:0,w:0,r:0,l:0,br:0,pkt:0});

const matchesDiv=document.getElementById("matches");
matches.forEach((m,i)=>{
  matchesDiv.innerHTML+=`
  <div class="match">
    <span>${m[0]}</span>
    <input type="number" min="0" onchange="update()" id="m${i}a">
    :
    <input type="number" min="0" onchange="update()" id="m${i}b">
    <span>${m[1]}</span>
  </div>`;
});

function update(){
  players.forEach(p=>stats[p]={m:0,w:0,r:0,l:0,br:0,pkt:0});

  matches.forEach((m,i)=>{
    const a=document.getElementById(`m${i}a`).value;
    const b=document.getElementById(`m${i}b`).value;
    if(a===""||b==="")return;
    const x=+a,y=+b,p1=m[0],p2=m[1];

    stats[p1].m++;stats[p2].m++;
    stats[p1].br+=x;stats[p2].br+=y;

    if(x>y){stats[p1].w++;stats[p2].l++;stats[p1].pkt+=3;}
    else if(y>x){stats[p2].w++;stats[p1].l++;stats[p2].pkt+=3;}
    else{stats[p1].r++;stats[p2].r++;stats[p1].pkt++;stats[p2].pkt++;}
  });
  render();
}

function render(){
  const tbody=document.getElementById("table");
  tbody.innerHTML="";
  players.slice().sort((a,b)=>stats[b].pkt-stats[a].pkt||stats[b].br-stats[a].br)
  .forEach(p=>{
    const s=stats[p];
    tbody.innerHTML+=`
    <tr>
      <td>${p}</td><td>${s.m}</td><td>${s.w}</td><td>${s.r}</td>
      <td>${s.l}</td><td>${s.br}</td><td>${s.pkt}</td>
    </tr>`;
  });
}

function generateBracket(){
  const sorted=players.slice().sort((a,b)=>stats[b].pkt-stats[a].pkt||stats[b].br-stats[a].br);
  const top4=sorted.slice(0,4).sort(()=>Math.random()-0.5);

  document.getElementById("sf1a").textContent=top4[0];
  document.getElementById("sf1b").textContent=top4[1];
  document.getElementById("f1").textContent="";
}

function advance(el,target){
  document.getElementById(target).textContent=el.textContent;
}

function winner(el){
  alert("üèÜ Zwyciƒôzca turnieju: "+el.textContent);
}
</script>

</body>
</html>

